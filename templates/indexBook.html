{% extends 'layout.html' %}

{% block page-main %}

    <div class="container">

        <div>
        <span class="h1">
            图书管理系统
            <small>
                书籍管理
            </small>
         </span>
        </div>
        <br>
        <hr>
        <br>
        <p><a href="/bms/addBook/" class="btn btn-sm bg-primary">添加</a></p>
        <div class="table-responsive ">

            <table class="table table-striped table-bordered table-hover table-condensed">
                <thead>
                <tr>
                    <th>书籍姓名</th>
                    <th>出版日期</th>
                    <th>售价</th>
                    <th>作者</th>
                    <th>出版社</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>
                {% for book in book_list %}
                    <tr>
                        <td>{{ book.title }}</td>
                        <td>{{ book.publishDate|date:'Y-m-d' }}</td>
                        <td>{{ book.price }}</td>

                        <td>
                            {% for author in book.authors.all %}
                                <span>{{ author.name }}</span>
                            {% endfor %}
                        </td>

                        <td>{{ book.publish.name }}</td>
                        <td>
                            <a href="/bms/delBook/id={{ book.id }}" class="btn btn-sm bg-danger">删除</a>
                            <a href="/bms/editBook/id={{ book.id }}" class="btn btn-sm bg-primary">编辑</a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock %}